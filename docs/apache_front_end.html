<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns#"><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  <title>Visualizer</title>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Canonical links -->
  <link rel="canonical" href="https://kitware.github.io/visualizer/docs/apache_front_end.html">
  <!-- Alternative links -->
  
    
      <link rel="alternative" hreflang="en" href="https://kitware.github.io/visualizer/docs/apache_front_end.html">
    
  
  <!-- Icon -->
  <link rel="apple-touch-icon" sizes="57x57" href="/visualizer/icon/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/visualizer/icon/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/visualizer/icon/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/visualizer/icon/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/visualizer/icon/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/visualizer/icon/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/visualizer/icon/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/visualizer/icon/apple-touch-icon-152x152.png">
  <link rel="icon" type="image/png" href="/visualizer/icon/favicon-196x196.png" sizes="196x196">
  <link rel="icon" type="image/png" href="/visualizer/icon/favicon-160x160.png" sizes="160x160">
  <link rel="icon" type="image/png" href="/visualizer/icon/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/visualizer/icon/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="/visualizer/icon/favicon-32x32.png" sizes="32x32">
  <meta name="msapplication-TileColor" content="#2f83cd">
  <meta name="msapplication-TileImage" content="/visualizer/icon/mstile-144x144.png">
  <!-- CSS -->
  <!-- build:css build/css/navy.css -->
  <link rel="stylesheet" href="/visualizer/css/navy.css">
  <!-- endbuild -->
  <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css">
  <!-- RSS -->
  <link rel="alternate" href="/visualizer/atom.xml" title="Visualizer">
  <!-- Open Graph -->
  <meta name="description" content="Using Apache as a front endIntroductionIn order to use Apache as a front end for ParaViewWeb, we recommend that you use version 2.4.7 or later of Apache.  This is because as of version 2.4.7 Apache ha">
<meta property="og:type" content="website">
<meta property="og:title" content="Visualizer">
<meta property="og:url" content="https://kitware.github.io/visualizer/docs/apache_front_end.html">
<meta property="og:site_name" content="Visualizer">
<meta property="og:description" content="Using Apache as a front endIntroductionIn order to use Apache as a front end for ParaViewWeb, we recommend that you use version 2.4.7 or later of Apache.  This is because as of version 2.4.7 Apache ha">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2024-11-12T15:37:47.885Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Visualizer">
<meta name="twitter:description" content="Using Apache as a front endIntroductionIn order to use Apache as a front end for ParaViewWeb, we recommend that you use version 2.4.7 or later of Apache.  This is because as of version 2.4.7 Apache ha">
  <!-- Google Analytics -->
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-90338862-5', 'auto');
  ga('send', 'pageview');
</script>

</head>

<body>
  <div id="container">
    <header id="header" class="wrapper">
  <div id="header-inner" class="inner">
    <h1 id="logo-wrap">
      <a href="/visualizer/" id="logo">Visualizer</a>
    </h1>
    <nav id="main-nav">
      <a href="/visualizer/docs/" class="main-nav-link">Docs</a>
      <a href="https://github.com/kitware/visualizer" class="main-nav-link"><i class="fa fa-github-alt"></i></a>
      <div id="search-input-wrap">
        <div id="search-input-icon">
          <i class="fa fa-search"></i>
        </div>
        <input type="search" id="search-input" placeholder="Search...">
      </div>
    </nav>
    <a id="mobile-nav-toggle">
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
    </a>
  </div>
</header>

    <div id="content-wrap">
  <div id="content" class="wrapper">
    <div id="content-inner">
      <article class="article-container" itemscope itemtype="http://schema.org/Article">
        <div class="article-inner">
          <div class="article">
            <div class="inner">
              <header class="article-header">
                <h1 class="article-title" itemprop="name"></h1>
              </header>
              <div class="article-content" itemprop="articleBody">
                <h1 id="Using-Apache-as-a-front-end" class="article-heading"><a href="#Using-Apache-as-a-front-end" class="headerlink" title="Using Apache as a front end"></a>Using Apache as a front end<a class="article-anchor" href="#Using-Apache-as-a-front-end" aria-hidden="true"></a></h1><h2 id="Introduction" class="article-heading"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction<a class="article-anchor" href="#Introduction" aria-hidden="true"></a></h2><p>In order to use Apache as a front end for ParaViewWeb, we recommend that you use version 2.4.7 or later of Apache.  This is because as of version 2.4.7 Apache has, out of the box, everything required for it to serve as a ParaViewWeb front end.</p>
<p>Once Apache is ready to run, you will need to configure it together with your chosen launcher (see <a href="multi_user_setup.html">Multi-User Setup</a> for information) to manage visualization sessions.</p>
<h2 id="Getting-Apache" class="article-heading"><a href="#Getting-Apache" class="headerlink" title="Getting Apache"></a>Getting Apache<a class="article-anchor" href="#Getting-Apache" aria-hidden="true"></a></h2><p>The easiest thing to do is just to install Apache from a package.  On recent Ubuntu distributions, this can be done as follows:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get install apache2-dev apache2 libapr1-dev apache2-utils</span><br></pre></td></tr></table></figure>
<h2 id="Configure-Apache-httpd-for-use-with-ParaViewWeb" class="article-heading"><a href="#Configure-Apache-httpd-for-use-with-ParaViewWeb" class="headerlink" title="Configure Apache httpd for use with ParaViewWeb"></a>Configure Apache httpd for use with ParaViewWeb<a class="article-anchor" href="#Configure-Apache-httpd-for-use-with-ParaViewWeb" aria-hidden="true"></a></h2><p>Next we address the configuration of Apache for use with ParaViewWeb.</p>
<h3 id="Create-a-proxy-mapping-file" class="article-heading"><a href="#Create-a-proxy-mapping-file" class="headerlink" title="Create a proxy/mapping file"></a>Create a proxy/mapping file<a class="article-anchor" href="#Create-a-proxy-mapping-file" aria-hidden="true"></a></h3><p>Choose a directory for the mapping file that the launcher and Apache use to communicate about sessions and port locations.  Then create a group so that both components have access to the file.  For the purpose of these instructions, assume the full path to the directory you have chosen is <code>&lt;MAPPING-FILE-DIR&gt;</code>, assume that <code>daemon</code> is the user who will run Apache, and assume that <code>pvw-user</code> is the user who will run the launcher and you are logged in as this user.  Then you would do the following:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo mkdir -p &lt;MAPPING-FILE-DIR&gt;</span><br><span class="line">$ sudo touch &lt;MAPPING-FILE-DIR&gt;/proxy.txt</span><br><span class="line">$ sudo groupadd mappingfileusers</span><br><span class="line">$ sudo usermod -a -G mappingfileusers pvw-user</span><br><span class="line">$ newgrp mappingfileusers</span><br><span class="line">$ sudo usermod -a -G mappingfileusers daemon</span><br><span class="line">$ sudo chgrp mappingfileusers &lt;MAPPING-FILE-DIR&gt;/proxy.txt</span><br><span class="line">$ sudo chmod 660 &lt;MAPPING-FILE-DIR&gt;/proxy.txt</span><br></pre></td></tr></table></figure>
<h3 id="Add-a-virtual-host" class="article-heading"><a href="#Add-a-virtual-host" class="headerlink" title="Add a virtual host"></a>Add a virtual host<a class="article-anchor" href="#Add-a-virtual-host" aria-hidden="true"></a></h3><p>Now add a virtual host to the Apache configuration.</p>
<p>In this case you should create a file in <code>/etc/apache2/sites-available/</code> and make a symbolic link to it from <code>/etc/apache2/sites-enabled/</code>.  Weâ€™ll assume you named this file <code>001-pvw.conf</code>.</p>
<p>In either case, make sure to replace the <code>ServerName</code> value (shown below as <code>${MY-SERVER-NAME}</code>) with the correct host name.  Also make sure the <code>DocumentRoot</code> value (shown below as <code>${MY-DOCUMENT-ROOT}</code>) makes sense for your particular deployment, we typically point it at the <code>www</code> directory of the ParaView build or install tree.  Additionally, be sure to change <code>${MAPPING-FILE-DIR}</code> to the real location where you have put the map file.</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="section">&lt;VirtualHost *:80&gt;</span></span><br><span class="line">    <span class="attribute"><span class="nomarkup">ServerName</span></span> <span class="variable">$&#123;MY-SERVER-NAME&#125;</span></span><br><span class="line">    <span class="attribute">ServerAdmin</span> webmaster@example-host.example.com</span><br><span class="line">    <span class="attribute"><span class="nomarkup">DocumentRoot</span></span> <span class="variable">$&#123;MY-DOCUMENT-ROOT&#125;</span></span><br><span class="line">    <span class="attribute">ErrorLog</span> <span class="variable">$&#123;APACHE_LOG_DIR&#125;</span>/error.log</span><br><span class="line">    <span class="attribute">CustomLog</span> <span class="variable">$&#123;APACHE_LOG_DIR&#125;</span>/access.log combined</span><br><span class="line"></span><br><span class="line">    <span class="comment">### The following commented lines could be useful when running</span></span><br><span class="line">    <span class="comment">### over https and wss:</span></span><br><span class="line">    <span class="comment"># SSLEngine On</span></span><br><span class="line">    <span class="comment"># SSLCertificateFile    /etc/apache2/ssl/your_certificate.crt</span></span><br><span class="line">    <span class="comment"># SSLCertificateKeyFile /etc/apache2/ssl/your_domain_key.key</span></span><br><span class="line">    <span class="comment"># SSLCertificateChainFile /etc/apache2/ssl/DigiCertCA.crt</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># &lt;Location $&#123;MY-DOCUMENT-ROOT&#125; &gt;</span></span><br><span class="line">    <span class="comment">#   SSLRequireSSL On</span></span><br><span class="line">    <span class="comment">#   SSLVerifyClient optional</span></span><br><span class="line">    <span class="comment">#   SSLVerifyDepth 1</span></span><br><span class="line">    <span class="comment">#   SSLOptions +StdEnvVars +StrictRequire</span></span><br><span class="line">    <span class="comment"># &lt;/Location&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Rule for ParaViewWeb launcher</span></span><br><span class="line">    <span class="attribute">ProxyPass</span> /paraview http://localhost:9000/paraview</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Rewrite setup for ParaViewWeb</span></span><br><span class="line">    <span class="attribute"><span class="nomarkup">RewriteEngine</span></span> <span class="literal">On</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># This is the path the mapping file Jetty creates</span></span><br><span class="line">    <span class="attribute">RewriteMap</span> session-to-port txt:<span class="variable">$&#123;MAPPING-FILE-DIR&#125;</span>/proxy.txt</span><br><span class="line"></span><br><span class="line">    <span class="comment"># This is the rewrite condition. Look for anything with a sessionId= in the query part of the URL and capture the value to use below.</span></span><br><span class="line">    <span class="attribute"><span class="nomarkup">RewriteCond</span></span> <span class="variable">%&#123;QUERY_STRING&#125;</span>     ^sessionId=(.*)&amp;path=(.*)$<span class="meta"> [NC]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># This does the rewrite using the mapping file and the sessionId</span></span><br><span class="line">    <span class="attribute"><span class="nomarkup">RewriteRule</span></span>    ^/proxy.*$  ws://<span class="variable">$&#123;session-to-port:<span class="number">%1</span>&#125;</span>/<span class="number">%2</span> <span class="meta"> [P]</span></span><br><span class="line"></span><br><span class="line">    <span class="section">&lt;Directory "$&#123;MY-DOCUMENT-ROOT&#125;"&gt;</span></span><br><span class="line">        <span class="attribute"><span class="nomarkup">Options</span></span> Indexes FollowSymLinks</span><br><span class="line">        <span class="attribute"><span class="nomarkup">Order</span></span> allow,deny</span><br><span class="line">        <span class="attribute"><span class="nomarkup">Allow</span></span> from <span class="literal">all</span></span><br><span class="line">        <span class="attribute">AllowOverride</span> None</span><br><span class="line">        <span class="attribute">Require</span> <span class="literal">all</span> granted</span><br><span class="line">    <span class="section">&lt;/Directory&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="section">&lt;/VirtualHost&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="Enable-required-modules" class="article-heading"><a href="#Enable-required-modules" class="headerlink" title="Enable required modules"></a>Enable required modules<a class="article-anchor" href="#Enable-required-modules" aria-hidden="true"></a></h4><p>First of all, you will need to enable the modules that will be used by our ParaViewWeb virtual host.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo a2enmod vhost_alias</span><br><span class="line">$ sudo a2enmod proxy</span><br><span class="line">$ sudo a2enmod proxy_http</span><br><span class="line">$ sudo a2enmod proxy_wstunnel</span><br><span class="line">$ sudo a2enmod rewrite</span><br></pre></td></tr></table></figure>
<p>Then enable the virtual host you created above and restart Apache</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo a2ensite 001-pvw.conf</span><br><span class="line">$ sudo service apache2 restart</span><br></pre></td></tr></table></figure>
<p>If you run into problems with your new virtual host listening properly, you may need to disable the default virtual hosts file as follows:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo a2dissite 000-default.conf</span><br></pre></td></tr></table></figure>

              </div>
              <footer class="article-footer">
                <time class="article-footer-updated" datetime="2024-11-12T15:37:47.885Z" itemprop="dateModified">Last updated: 2024-11-12</time>
                <a href="multi_user_setup.html" class="article-footer-prev" title="Multi-user setup"><i class="fa fa-chevron-left"></i><span>Prev</span></a><a href="python_launcher.html" class="article-footer-next" title="Python"><span>Next</span><i class="fa fa-chevron-right"></i></a>
              </footer>
              
            </div>
          </div>
          <aside id="article-toc" role="navigation">
            <div id="article-toc-inner">
              <strong class="sidebar-title">Contents</strong>
              <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Using-Apache-as-a-front-end"><span class="toc-text">Using Apache as a front end</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Introduction"><span class="toc-text">Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Getting-Apache"><span class="toc-text">Getting Apache</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Configure-Apache-httpd-for-use-with-ParaViewWeb"><span class="toc-text">Configure Apache httpd for use with ParaViewWeb</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Create-a-proxy-mapping-file"><span class="toc-text">Create a proxy/mapping file</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Add-a-virtual-host"><span class="toc-text">Add a virtual host</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Enable-required-modules"><span class="toc-text">Enable required modules</span></a></li></ol></li></ol></li></ol></li></ol>
              <a href="#" id="article-toc-top">Back to Top</a>
            </div>
          </aside>
        </div>
      </article>
      <aside id="sidebar" role="navigation">
  <div class="inner"><strong class="sidebar-title">Getting Started</strong><a href="index.html" class="sidebar-link">Overview</a><a href="compatibility.html" class="sidebar-link">Version Compatibility</a><strong class="sidebar-title">Miscellaneous</strong><a href="tools.html" class="sidebar-link">Developer guide</a><a href="troubleshooting.html" class="sidebar-link">Troubleshooting</a><a href="contributing.html" class="sidebar-link">Contributing</a><strong class="sidebar-title">Server</strong><a href="multi_user_setup.html" class="sidebar-link">Multi-user setup</a><a href="apache_front_end.html" class="sidebar-link current">Using Apache</a><strong class="sidebar-title">Launchers</strong><a href="python_launcher.html" class="sidebar-link">Python</a><a href="launching_examples.html" class="sidebar-link">Examples</a></div>
</aside>
    </div>
  </div>
</div>

    <footer id="footer" class="wrapper">
  <div class="inner">
    <div id="footer-copyright">
      &copy; 2024 <a href="https://www.kitware.com/" target="_blank">Kitware Inc.</a>
    </div>

    <div id="footer-links">
      <a href="https://github.com/kitware/visualizer" class="footer-link" target="_blank"><i class="fa fa-github-alt"></i></a>
    </div>
  </div>
<!--
    <a
      style="position: fixed; background: #00529b; color: white; top: 0; right: 0; height: 70px"
      href="https://www.kitware.com/careers"
    >
      <div style="position: relative; text-align: center;">
        <div
          style="margin-top: 5px; background: url(https://www.cmake.org/wp-content/uploads/2018/09/jobs_icon.png) no-repeat; background-size: 100%; width: 50px; height: 40px; margin: 5px auto 0;"
        ></div>
        <span style="padding: 5px 10px">Kitware is Hiring</span>
      </div>
    </a>
-->
</footer>

  </div>
  <div id="mobile-nav-dimmer"></div>
  <nav id="mobile-nav">
  <div id="mobile-nav-inner">
    <ul id="mobile-nav-list">
      <a href="/visualizer/docs/" class="mobile-nav-link">Docs</a>
      <li class="mobile-nav-item">
        <a href="https://github.com/kitware/visualizer" class="mobile-nav-link" rel="external" target="_blank">GitHub</a>
      </li>
    </ul>
    
      <strong class="mobile-nav-title">Getting Started</strong><a href="index.html" class="mobile-nav-link">Overview</a><a href="compatibility.html" class="mobile-nav-link">Version Compatibility</a><strong class="mobile-nav-title">Miscellaneous</strong><a href="tools.html" class="mobile-nav-link">Developer guide</a><a href="troubleshooting.html" class="mobile-nav-link">Troubleshooting</a><a href="contributing.html" class="mobile-nav-link">Contributing</a><strong class="mobile-nav-title">Server</strong><a href="multi_user_setup.html" class="mobile-nav-link">Multi-user setup</a><a href="apache_front_end.html" class="mobile-nav-link current">Using Apache</a><strong class="mobile-nav-title">Launchers</strong><a href="python_launcher.html" class="mobile-nav-link">Python</a><a href="launching_examples.html" class="mobile-nav-link">Examples</a>
    
  </div>
  <div id="mobile-lang-select-wrap">
    <span id="mobile-lang-select-label"><i class="fa fa-globe"></i><span>English</span></span>
    <select id="mobile-lang-select" data-canonical="docs/apache_front_end.html">
      
        <option value="en" selected>English</option>
      
    </select>
  </div>
</nav>
  <!-- Scripts -->
<!-- build:js build/js/main.js -->
<script src="/visualizer/js/lang_select.js"></script>
<script src="/visualizer/js/toc.js"></script>
<script src="/visualizer/js/mobile_nav.js"></script>
<!-- endbuild -->
<script src="https://cdn.jsdelivr.net/retinajs/1.3.0/retina.min.js" async></script>



</body>
</html>